<div class="card">
        <div class="title"> Diagnostic As Confirmed</div><br>
        <!--<div class="search-container">
            <mat-form-field style="width: 180px;margin-left: 15px;">
                <input (input)="searchDiagnostic(filter.value)" matInput placeholder="search diagnostic" type="text"
                    style="width: 200px;" #filter>
                <mat-icon fontIcon="search" matSuffix></mat-icon>
            </mat-form-field>
        </div>-->
        <br>
        <div class="search-header">
            Search Filters
        </div>
        <!--search form-->
        <div class="search-container">
            <form (ngSubmit)="searchDiagnostic()" #searchForm="ngForm" class="search-form">
                <div class="row g-3">
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="numparc">Parc Number</label>
                            <input type="number" class="form-control" name="numparc" id="numparc"
                                [(ngModel)]="searchParams.numparc">
                        </div>
                    </div>

                    <!--<div class="col-md-3">
                        <div class="form-group">
                            <label for="date_demande">Request Date</label>
                            <input type="date" class="form-control" name="date_demande" id="date_demande"
                                [(ngModel)]="searchParams.date_demande">
                        </div>
                    </div>-->
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="type_avarie">Breakdown type</label>
                            <select class="form-control" name="type_avarie" id="type_avarie"
                                [(ngModel)]="searchParams.type_avarie">
                                <option ngValue="">All Types</option>
                                <option *ngFor="let demande of demandes" [ngValue]="demande.type_avarie">
                                    {{demande.type_avarie}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="description">description</label>
                            <select class="form-control" name="description" id="description"
                                [(ngModel)]="searchParams.description">
                                <option ngValue="">All descriptions</option>
                                <option *ngFor="let demande of demandes" [ngValue]="demande.description">
                                    {{demande.description}}</option>
                            </select>
                        </div>
                    </div>
                    <!--<div class="col-md-3">
                        <div class="form-group">
                            <label for="date_avarie">Breakdown Date</label>
                            <input type="date" class="form-control" name="date_avarie" id="date_avarie"
                                [(ngModel)]="searchParams.date_avarie">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="heure_avarie">Breakdown Hour</label>
                            <input type="time" class="form-control" name="heure_avarie" id="heure_avarie"
                                [(ngModel)]="searchParams.heure_avarie">
                        </div>
                    </div>-->

                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="date_diagnostic">Diagnostic Date</label>
                            <input type="date" class="form-control" name="date_diagnostic" id="date_diagnostic"
                                [(ngModel)]="searchParams.date_diagnostic">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="heure_diagnostic">Diagnostic Hour</label>
                            <input type="time" class="form-control" name="heure_diagnostic" id="heure_diagnostic"
                                [(ngModel)]="searchParams.heure_diagnostic">
                        </div>
                    </div>
                </div>
                <div class="buton">
                    <button mat-raised-button type="button" (click)="resetSearch()">Reset</button>
                    <button mat-raised-button color="primary" type="submit">Search</button>
                </div>
            </form>
        </div>
    <div class="card-body">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort *ngIf="dataSource.data.length > 0">

            <ng-container matColumnDef="id_diagnostic">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Diagnostic ID </th>
                <td mat-cell *matCellDef="let Diagnostic"> {{Diagnostic.id_diagnostic}} </td>
            </ng-container>

            <ng-container matColumnDef="Vehicle">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Vehicle </th>
                <td mat-cell *matCellDef="let Diagnostic">
                    <div style="display: flex; flex-direction: column;">
                        {{Diagnostic.numparc}}
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="id_demande">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Request </th>
                <td mat-cell *matCellDef="let Diagnostic">
                    <div style="display: flex; flex-direction: column;">
                        <span><strong>Vehicle:</strong> {{Diagnostic.numparc}}</span>
                        <span><strong>Breakdown Type:</strong> {{Diagnostic.type_avarie}}</span>
                        <span><strong>Description:</strong> {{Diagnostic.description_panne}}</span>
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="description_panne">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Description Panne </th>
                <td mat-cell *matCellDef="let Diagnostic"> {{Diagnostic.description_panne}} </td>
            </ng-container>

            <ng-container matColumnDef="causes_panne">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Causes Panne</th>
                <td mat-cell *matCellDef="let Diagnostic"> {{Diagnostic.causes_panne}} </td>
            </ng-container>

            <ng-container matColumnDef="actions_panne">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Actions </th>
                <td mat-cell *matCellDef="let Diagnostic"> {{Diagnostic.actions}} </td>
            </ng-container>

            <ng-container matColumnDef="date_diagnostic">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Diagnostic Date </th>
                <td mat-cell *matCellDef="let Diagnostic"> {{Diagnostic.date_diagnostic}} </td>
            </ng-container>

            <ng-container matColumnDef="heure_diagnostic">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Diagnostic Hour </th>
                <td mat-cell *matCellDef="let Diagnostic"> {{Diagnostic.heure_diagnostic}} </td>
            </ng-container>

            <ng-container matColumnDef="Actions">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
                <td mat-cell *matCellDef="let diagnostic">
                    <button style="height: 27px;margin-left: 20px;" mat-icon-button (click)="editDiagnostic(diagnostic)"
                        color="primary" matTooltip="edit"
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <mat-icon>edit</mat-icon>
                    </button>
                    <button style="height: 27px;margin-left: 20px;" mat-icon-button
                        (click)="deleteDiagnostic(diagnostic.id_diagnostic)" color="warn" matTooltip="edit"
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let diagnostics; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons
            aria-label="Select page of periodic elements">
        </mat-paginator>
    </div>
</div>







<!--<div class="card">
    <div class="card-head">
        <div class="title">List Diagnostic</div><br>
        <div class="search-container">
            <mat-form-field style="width: 180px;margin-left: 15px;">
                <input (input)="searchDiagnostic(filter.value)" matInput placeholder="search diagnostic" type="text"
                    style="width: 200px;" #filter>
                <mat-icon fontIcon="search" matSuffix></mat-icon>
            </mat-form-field>
        </div>
    </div>

    <div class="card-body">
        <div *ngIf="dataSource.data.length > 0">
            <ul class="diagnostic-list">
                <li *ngFor="let diagnostic of dataSource.data" class="diagnostic-item">
                    <div class="diagnostic-details">
                        <strong>Diagnostic ID:</strong> {{ diagnostic.id_diagnostic }}<br>
                        <strong>Demand ID:</strong> {{ diagnostic.demande?.id_demande }}<br>
                        <strong>Description Panne:</strong> {{ diagnostic.description_panne }}<br>
                        <strong>Causes Panne:</strong> {{ diagnostic.causes_panne }}<br>
                        <strong>Actions:</strong> {{ diagnostic.actions }}<br>
                        <strong>Diagnostic Date:</strong> {{ diagnostic.date_diagnostic }}<br>
                        <strong>Diagnostic Hour:</strong> {{ diagnostic.heure_diagnostic }}<br>
                    </div>
                    <div class="actions">
                        <button mat-icon-button (click)="editDiagnostic(diagnostic)" color="primary" matTooltip="Edit">
                            <mat-icon>edit</mat-icon>
                        </button>
                        <button mat-icon-button (click)="deleteDiagnostic(diagnostic.id_diagnostic)" color="warn" matTooltip="Delete">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </div>
                </li>
            </ul>
        </div>

        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements">
        </mat-paginator>
    </div>
</div>
-->







<!---->